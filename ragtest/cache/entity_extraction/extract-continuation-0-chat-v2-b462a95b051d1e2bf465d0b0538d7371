{"result": "I apologize for the mistake. Here are the additional entities and relationships that match the previously extracted types:\n\n(\"entity\"<|>ILLUSORY_ENERGY<|>CONCEPT<|>The concept of illusory energy, or maya, which creates the world and our perceptions of it)\n##\n(\"entity\"<|>MATERIAL_EXISTENCE<|>CONCEPT<|>The concept of material existence, or the world we experience through our senses)\n##\n(\"entity\"<|>MOOD<|>EMOTION<|>A state of mind or emotional state that can be influenced by the senses)\n##\n(\"entity\"<|>SENSE_GRATIFICATION<|>CONCEPT<|>The concept of seeking pleasure and satisfaction through the senses)\n##\n(\"relationship\"<|>MAYA<|>MOOD<|>Maya creates a mood of attachment to the material world<|>8)\n##\n(\"relationship\"<|>MAYA<|>SENSE_GRATIFICATION<|>Maya leads to sense gratification and attachment to the material world<|>9)\n##\n(\"relationship\"<|>MATERIAL_EXISTENCE<|>MOOD<|>Material existence can create a mood of attachment and distraction<|>7)\n##\n(\"relationship\"<|>MATERIAL_EXISTENCE<|>SENSE_GRATIFICATION<|>Material existence can lead to sense gratification and attachment<|>8)\n\nPlease let me know if these additional entities and relationships are accurate and complete.", "input": "MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n", "parameters": {"model": "llama3-8b-8192", "temperature": 0.0, "frequency_penalty": 0.0, "presence_penalty": 0.0, "top_p": 1.0, "max_tokens": 5000, "n": 1}, "history": [{"role": "user", "content": "# Copyright (c) 2024 Microsoft Corporation.\n# Licensed under the MIT License\n\n\"\"\"A file containing prompts definition.\"\"\"\n\nGRAPH_EXTRACTION_PROMPT = \"\"\"\n-Goal-\nThe text provided is from or inspired by the *Bhagavad Gita*, an ancient Indian scripture that conveys deep philosophical teachings, dialogues, and symbolic references. Your task is to extract meaningful entities and relationships within this text that capture the philosophical essence, symbolic meaning, and relational depth.\n\nEntities should reflect the spiritual, moral, and existential themes present in the *Bhagavad Gita*. Common types of entities include, but are not limited to, concepts such as duty, virtue, emotions, deities, teachings, and mindsets. You may also identify any other types that align with the philosophical or symbolic themes of the text. Use your understanding to label entities with appropriate types based on their roles or meanings within the context of the text.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Based on the philosophical or symbolic role, choose an appropriate type (e.g., DEITY, PERSON, CONCEPT, VIRTUE, EMOTION, MINDSET, ACTION, TEACHING, or another relevant type that fits the context of the *Bhagavad Gita*).\n- entity_description: Detailed description of the entity’s attributes, symbolism, and philosophical implications. Include interpretations where relevant.\nFormat each entity as (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other in a philosophical or symbolic way.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: Explanation of how the source and target entities are philosophically or symbolically related, including causal, representational, or contrastive meanings where applicable.\n- relationship_strength: A numeric score indicating the philosophical significance of the relationship between the entities, where 10 represents a foundational relationship, 5-9 an important symbolic or causal link, and 1-4 a minor or interpretative connection.\nFormat each relationship as (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output <|COMPLETE|>\n\n######################\n-Examples-\n######################\nExample 1:\nText:\nKrishna, the supreme deity, guides Arjuna on the battlefield of Kurukshetra. He explains the nature of duty, selflessness, and the eternal soul.\n######################\nOutput:\n(\"entity\"<|>KRISHNA<|>DEITY<|>Krishna is the supreme deity who provides wisdom and guidance)\n##\n(\"entity\"<|>ARJUNA<|>PERSON<|>A warrior seeking guidance on duty and life)\n##\n(\"entity\"<|>DUTY<|>CONCEPT<|>The principle of fulfilling one's responsibilities without attachment to outcomes)\n##\n(\"relationship\"<|>KRISHNA<|>ARJUNA<|>Krishna guides Arjuna in understanding his duty<|>10)\n##\n(\"relationship\"<|>KRISHNA<|>DUTY<|>Krishna imparts the concept of duty as essential for spiritual growth<|>9)\n<|COMPLETE|>\n\n######################\nExample 2:\nText:\nArjuna experiences intense inner conflict, torn between his warrior duty and his compassion for family members on the opposing side.\n######################\nOutput:\n(\"entity\"<|>ARJUNA<|>PERSON<|>Arjuna is a warrior experiencing moral and emotional conflict)\n##\n(\"entity\"<|>DUTY<|>CONCEPT<|>The concept of duty as Arjuna’s responsibility as a warrior)\n##\n(\"entity\"<|>COMPASSION<|>VIRTUE<|>A virtue that causes Arjuna emotional turmoil on the battlefield)\n##\n(\"relationship\"<|>DUTY<|>COMPASSION<|>Duty and compassion create an inner conflict within Arjuna<|>8)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: DEITY, PERSON, CONCEPT, VIRTUE, EMOTION, MINDSET, ACTION, TEACHING\nText: , such a devotee of the Lord does not\nrejoice in a flourishing condition, nor is he morose when poverty-stricken.\n7. One who has failed to control his senses immediately feels attraction upon seeing a woman’s form, which\nis created by the illusory energy of the Supreme Lord. Indeed, when the woman speaks with enticing words,\nsmiles coquettishly and moves her body sensuously, his mind is immediately captured, and thus he falls\nblindly into the darkness of material existence, just as the moth maddened by the fire rushes blindly into its\nflames.\n8. A foolish person with no intelligent discrimination is immediately aroused at the sight of a lusty woman\nbeautifully decorated with golden ornaments, fine clothing and other cosmetic features. Being eager for\nsense gratification, such a fool loses all intelligence and is destroyed just like the moth who rushes into the\nblazing fire.\n9. A saintly person should accept only enough food to keep his body and soul together. He should go from\ndoor to door accepting just a little bit of food from each family. Thus he should practice the occupation of\nthe honeybee.\n10. Just as the honeybee takes nectar from all flowers, big and small, an intelligent human being should take\nthe essence from all religious scriptures.\n11. A saintly person should not think, “This food I will keep to eat tonight and this other food I can save for\n######################\nOutput:\n\"\"\"\n\nCONTINUE_PROMPT = \"Add any remaining concepts, symbols, or entities that further clarify the philosophical and symbolic relationships within the text.\\n\"\nLOOP_PROMPT = \"Are there additional entities or relationships that might add depth or uncover further philosophical insights in this passage? Answer YES | NO.\\n\"\n"}, {"role": "assistant", "content": "This is a prompt definition file for a natural language processing (NLP) model. The prompts are related to extracting entities and relationships from a given text about the Bhagavad Gita, an ancient Indian scripture.\n\nThe main task is to extract meaningful entities and relationships within the text that capture the philosophical essence, symbolic meaning, and relational depth. The entities should reflect the spiritual, moral, and existential themes present in the Bhagavad Gita.\n\nThe prompts are divided into three main parts:\n\n1. **Entity Extraction**: The first step is to identify all entities in the text and extract the following information for each entity:\n\t* `entity_name`: The name of the entity, capitalized.\n\t* `entity_type`: The type of entity, chosen based on the philosophical or symbolic role (e.g., DEITY, PERSON, CONCEPT, VIRTUE, EMOTION, MINDSET, ACTION, TEACHING).\n\t* `entity_description`: A detailed description of the entity's attributes, symbolism, and philosophical implications.\n\n2. **Relationship Extraction**: The second step is to identify all pairs of related entities and extract the following information for each pair:\n\t* `source_entity`: The name of the source entity, as identified in step 1.\n\t* `target_entity`: The name of the target entity, as identified in step 1.\n\t* `relationship_description`: An explanation of how the source and target entities are philosophically or symbolically related.\n\t* `relationship_strength`: A numeric score indicating the philosophical significance of the relationship between the entities.\n\n3. **Output**: The final step is to return a single list of all entities and relationships identified in steps 1 and 2, formatted as specified.\n\nThere are also two additional prompts:\n\n* `CONTINUE_PROMPT`: An optional prompt to add any remaining concepts, symbols, or entities that further clarify the philosophical and symbolic relationships within the text.\n* `LOOP_PROMPT`: A yes/no question to determine if the model should continue extracting entities and relationships or stop."}]}