{"result": "I apologize for the mistake. Here are the additional entities and relationships that match the previously extracted types:\n\n(\"entity\"<|>LOVE<|>CONCEPT<|>Love is the affection and care that the parent birds have for their children)\n##\n(\"entity\"<|>AFFECTION<|>CONCEPT<|>Affection is the bond between the parent birds and their children)\n##\n(\"entity\"<|>FOOLISH<|>DESCRIPTION<|>The birds are described as foolish due to their ignorance of the illusory energy of Lord Visnu)\n##\n(\"entity\"<|>ILLUSORY ENERGY<|>CONCEPT<|>The illusory energy of Lord Visnu is the cause of the birds' ignorance and bewilderment)\n##\n(\"relationship\"<|>LOVE<|>AFFECTION<|>Love and affection are closely related concepts that drive the parent birds' actions<|>8)\n##\n(\"relationship\"<|>FOOLISH<|>ILLUSORY ENERGY<|>The birds' foolishness is caused by their ignorance of the illusory energy of Lord Visnu<|>9)\n##\n(\"relationship\"<|>LOVE<|>FOOLISH<|>Love and foolishness seem to be contradictory, but the parent birds' love is not affected by their foolishness<|>7)\n\nPlease let me know if these additional entities and relationships are accurate and complete.", "input": "MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n", "parameters": {"model": "llama3-8b-8192", "temperature": 0.0, "frequency_penalty": 0.0, "presence_penalty": 0.0, "top_p": 1.0, "max_tokens": 5000, "n": 1}, "history": [{"role": "user", "content": "# Copyright (c) 2024 Microsoft Corporation.\n# Licensed under the MIT License\n\n\"\"\"A file containing prompts definition.\"\"\"\n\nGRAPH_EXTRACTION_PROMPT = \"\"\"\n-Goal-\nThe text provided is from or inspired by the *Bhagavad Gita*, an ancient Indian scripture that conveys deep philosophical teachings, dialogues, and symbolic references. Your task is to extract meaningful entities and relationships within this text that capture the philosophical essence, symbolic meaning, and relational depth.\n\nEntities should reflect the spiritual, moral, and existential themes present in the *Bhagavad Gita*. Common types of entities include, but are not limited to, concepts such as duty, virtue, emotions, deities, teachings, and mindsets. You may also identify any other types that align with the philosophical or symbolic themes of the text. Use your understanding to label entities with appropriate types based on their roles or meanings within the context of the text.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Based on the philosophical or symbolic role, choose an appropriate type (e.g., DEITY, PERSON, CONCEPT, VIRTUE, EMOTION, MINDSET, ACTION, TEACHING, or another relevant type that fits the context of the *Bhagavad Gita*).\n- entity_description: Detailed description of the entity’s attributes, symbolism, and philosophical implications. Include interpretations where relevant.\nFormat each entity as (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other in a philosophical or symbolic way.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: Explanation of how the source and target entities are philosophically or symbolically related, including causal, representational, or contrastive meanings where applicable.\n- relationship_strength: A numeric score indicating the philosophical significance of the relationship between the entities, where 10 represents a foundational relationship, 5-9 an important symbolic or causal link, and 1-4 a minor or interpretative connection.\nFormat each relationship as (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output <|COMPLETE|>\n\n######################\n-Examples-\n######################\nExample 1:\nText:\nKrishna, the supreme deity, guides Arjuna on the battlefield of Kurukshetra. He explains the nature of duty, selflessness, and the eternal soul.\n######################\nOutput:\n(\"entity\"<|>KRISHNA<|>DEITY<|>Krishna is the supreme deity who provides wisdom and guidance)\n##\n(\"entity\"<|>ARJUNA<|>PERSON<|>A warrior seeking guidance on duty and life)\n##\n(\"entity\"<|>DUTY<|>CONCEPT<|>The principle of fulfilling one's responsibilities without attachment to outcomes)\n##\n(\"relationship\"<|>KRISHNA<|>ARJUNA<|>Krishna guides Arjuna in understanding his duty<|>10)\n##\n(\"relationship\"<|>KRISHNA<|>DUTY<|>Krishna imparts the concept of duty as essential for spiritual growth<|>9)\n<|COMPLETE|>\n\n######################\nExample 2:\nText:\nArjuna experiences intense inner conflict, torn between his warrior duty and his compassion for family members on the opposing side.\n######################\nOutput:\n(\"entity\"<|>ARJUNA<|>PERSON<|>Arjuna is a warrior experiencing moral and emotional conflict)\n##\n(\"entity\"<|>DUTY<|>CONCEPT<|>The concept of duty as Arjuna’s responsibility as a warrior)\n##\n(\"entity\"<|>COMPASSION<|>VIRTUE<|>A virtue that causes Arjuna emotional turmoil on the battlefield)\n##\n(\"relationship\"<|>DUTY<|>COMPASSION<|>Duty and compassion create an inner conflict within Arjuna<|>8)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: DEITY, PERSON, CONCEPT, VIRTUE, EMOTION, MINDSET, ACTION, TEACHING\nText: awkward chirping, which sounded very sweet to the parents. Thus with love they began to raise the little\nbirds who were born of them.\n60. The parent birds became very joyful by observing the soft wings of their children, their chirping, their\nlovely innocent movements around the nest and their attempts to jump up and fly. Seeing their children\nhappy, the parents were also happy.\n61. Their hearts bound to each other by affection, the foolish birds, completely bewildered by the illusory\nenergy of Lord Visnu, continued to take care of the young offspring who had been born to them.\n62. One day the two heads of the family went out to find food for the children. Being very anxious to feed\ntheir offspring properly, they wandered all over the forest for a long time.\n63. At that time a certain hunter who happened to be wandering through the forest saw the young pigeons\nmoving about near their nest. Spreading out his net he captured them all.\n64. The pigeon and his wife were always anxious for the maintenance of their children, and they were\nwandering in the forest for that purpose. Having obtained proper food, they now returned to their nest.\n65. When the lady pigeon caught sight of her own children trapped within the hunter’s net, she was\noverwhelmed with anguish, and crying out, she rushed toward them as they cried out to her in return.\n66. The lady pigeon had always allowed\n######################\nOutput:\n\"\"\"\n\nCONTINUE_PROMPT = \"Add any remaining concepts, symbols, or entities that further clarify the philosophical and symbolic relationships within the text.\\n\"\nLOOP_PROMPT = \"Are there additional entities or relationships that might add depth or uncover further philosophical insights in this passage? Answer YES | NO.\\n\"\n"}, {"role": "assistant", "content": "This is a file containing prompts definition for a task related to extracting entities and relationships from a text inspired by the Bhagavad Gita. The prompts are designed to guide the extraction process and provide a framework for identifying and labeling entities, as well as describing their relationships.\n\nThe main prompt is divided into four steps:\n\n1. Identify entities: Extract entities from the text, including their names, types, and descriptions. The entities can be concepts, deities, people, virtues, emotions, mindsets, actions, or teachings.\n2. Identify relationships: Identify pairs of entities that are related to each other in a philosophical or symbolic way. For each pair, extract the source and target entities, as well as a description of the relationship and its strength.\n3. Return output: Return the extracted entities and relationships in a single list, using **##** as the list delimiter.\n4. Completion: When finished, output `<|COMPLETE|>`.\n\nThe prompts also include examples of output for two different texts, as well as a section for real data, which includes a passage from the Bhagavad Gita and its corresponding output.\n\nThe CONTINUE_PROMPT is used to encourage the user to add any remaining concepts, symbols, or entities that further clarify the philosophical and symbolic relationships within the text.\n\nThe LOOP_PROMPT is used to ask the user if there are additional entities or relationships that might add depth or uncover further philosophical insights in the passage. The user can answer YES or NO to indicate whether they want to continue extracting entities and relationships."}]}